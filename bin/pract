require_relative '../deli_counter.rb'

deli = []

def number_taker(deli)
  puts "What is your name?"
  name = gets.strip
  take_a_number(deli,name)
end

def options
  puts "\nWelcome to the deli!\nHere are your options:\n 1. Take a number\n 2. Currently serving\n 3. What is my number?\n 4. View line"
end

while true
  options
  choice = gets.strip
  if choice == "1"
    number_taker(deli)
  elsif choice == "2"
    now_serving(deli)
  elsif choice == "4"
    line(deli)
  elsif choice == "3"
   puts "Please enter your name"
   name = gets.strip
   if deli.include?(name)
     puts "You are number #{deli.index(name)+1}"
   else
     puts "I'm sorry, it looks like you're not on the list! Would you like to take a number? (y/n)"
     choice = gets.strip
     if choice.upcase == "Y"
       number_taker(deli)
     else
       options
     end
  end

  elsif choice == "Options"
    options
  elsif choice == "End"
    break
  else
    puts options
  end
end
